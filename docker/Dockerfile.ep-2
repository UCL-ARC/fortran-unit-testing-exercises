FROM ghcr.io/ucl-arc/fortran-unit-testing-exercises:main

COPY --chown=vscode episodes/2-refactoring-fortran /home/vscode/2-refactoring-fortran

# Build challenge with cmake
WORKDIR /home/vscode/2-refactoring-fortran/challenge
RUN cmake -B build && \
    cmake --build build

# Build solution with cmake
WORKDIR /home/vscode/2-refactoring-fortran/solution
RUN cmake -B build && \
    cmake --build build
