FROM ghcr.io/ucl-arc/fortran-unit-testing-exercises:main

COPY --chown=vscode episodes/1-into-to-unit-tests /home/vscode/1-into-to-unit-tests

WORKDIR /home/vscode/1-into-to-unit-tests/challenge

# test challenge with fpm
RUN fpm test

#Â clean build 
RUN rm -rf build

# Test solution with fpm
RUN mv ../solution/maths_test_solution.f90 test/maths_test.f90 && \
    fpm test
